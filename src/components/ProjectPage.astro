---
const { project } = Astro.props;
import "../styles/projectPage.css";
---

<!-- ===================== Header ===================== -->
<section class="fixed w-full z-50">
    <div class="relative flex justify-end p-10 md:p-10">
        
            <a
            href="/my-portfolio/"
            class="group cursor-pointer p-2 rounded-full border-2 border-white bg-transparent transition-all duration-500 hover:bg-white hover:scale-110">
            <img
                src="/my-portfolio/img/icons/Arrow_return.svg"
                alt="volver"
                class="w-8 select-none invert transition duration-500 group-hover:invert-0"/>
        </a>
    </div>
</section>

<main class="flex flex-col w-full project-Content">
    <!-- ============================================================ -->
    <!-- ===================== Banner principal ===================== -->
    <!-- ============================================================ -->
    <section class="relative w-full mt-[130px] mb-[14vw] pointer-events-none h-[clamp(380px,60vh,900px)] mainBanner">
        <h1 class="projectTitle absolute top-[10px] m-12 text-transparent font-Druck-Bold z-30 will-change-transform stroke-text"
            style="font-size: clamp(2rem, 8vw, 8rem); width: clamp(60%, 80vw, 60%); -webkit-text-stroke: 1px #fff;">
            {project.title}
        </h1>

        <!-- Contenedor-ventana que hace clipping (la "pared" limita lo que se ve) -->
        <div class="relative overflow-hidden w-full h-full bannerFrame">
            <div class="relative overflow-hidden w-full h-full bannerFrame">
            <img class="mainBannerImg"
                src={project.images[0]}
                alt={project.title}
                loading="eager"
            />
            <!-- Sombra lateral izquierda y derecha -->
            <div class="absolute top-0 bottom-0 left-0 w-[8%] z-[18] pointer-events-none
                bg-gradient-to-r from-black/35 to-transparent">
            </div>
            <div class="absolute top-0 bottom-0 right-0 w-[8%] z-[18] pointer-events-none
                bg-gradient-to-l from-black/25 to-transparent">
            </div>
        </div>
    </section>



    <!-- ======================================================= -->
    <!-- ===================== Footer Info ===================== -->
    <!-- ======================================================= -->
    <section id="footer" class="fixed bottom-0 left-0 z-[100] w-full max-h-screen flex transform transition-transform duration-1000 ease-in-out">
        <!-- Info -->
        <div class="w-screen px-14 py-5 text-[14px]">
            
            <div class="flex justify-between flex-wrap gap-4">
                <!-- Left section -->
                <div class="flex">
                    <!-- Contact info -->
                    <div class="flex mr-10 font-Akzidenz-black">
                    <ul class="list-none p-0 mr-10">
                        <li class="mb-2 text-sm">Web Developer & Design</li>
                        <li class="mb-2 text-sm">3D Artist - Autodidact</li>
                    </ul>
                    <ul class="list-none p-0">
                        <li class="mb-2 text-sm">España, Andalucía</li>
                        <li class="mb-2 text-sm">m2000mariojr@gmail.com</li>
                    </ul>
                    </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="mt-4">
                <p class="m-0 font-Akzidenz-black text-[12px] text-white/60">© 2024 M.A.J All rights reserved.</p>
            </div>
        </div>
    </section>





    <!-- ========================================================== -->
    <!-- ================= Resumen & Créditos ===================== -->
    <!-- ========================================================== -->
    <section class="section-resumen font-SatoshiVariable flex items-start justify-between gap-[60px] px-[8vw] py-0 max-w-[calc(1440px+20vw)] mx-auto">
        <!-- Resumen -->
        <div class="content-appear flex justify-between gap-[50px] flex-1">
            <div class="flex-1 text-[1.2rem] leading-[1.6]">
                <p class="font-black uppercase text-2xl mb-5">
                    {project.summary?.summary1 || ""}
                </p>
                <p>
                    {project.summary?.summary2 || ""}
                </p>
            </div>

            <div class="flex-1 text-[1.2rem] leading-[1.6]">
                <p>{project.summary?.summary3 || ""}</p>
            </div>
        </div>

        <!-- Créditos -->
        <div
            class="credits-fixed relative w-[250px] text-[1rem] shrink-0 z-100">
            {
                project.credits ? (
                    <>
                        <h6 class="flex items-center mb-3">
                            {project.credits.website ? (
                                <a
                                    href={project.credits.website}
                                    target="_blank"
                                    rel="noopener"
                                    class="no-underline text-inherit hover:underline font-bold"
                                >
                                    {project.credits.titleWebsite}
                                </a>
                            ) : (
                                <span class="opacity-60 italic">
                                    Sin sitio web
                                </span>
                            )}

                            {project.credits.website && (
                                <img
                                    class="w-4 h-4 mx-3 select-none invert inline-block"
                                    src="/my-portfolio/img/icons/icon-external.svg"
                                    alt="external link"
                                />
                            )}
                        </h6>

                        <h6 class="font-bold mb-3">
                            {project.credits.client || "Desconocido"}
                        </h6>

                        <h6 class="mb-3">
                            <span class="font-bold mr-1">
                                Front-end Developer:
                            </span>
                            <span>
                                {project.credits.leadDeveloper ||
                                    "No especificado"}
                            </span>
                        </h6>

                        <h6 class="mb-3">
                            <span class="font-bold mr-1">Tech:</span>
                            <span>
                                {project.credits.tech || "No especificado"}
                            </span>
                        </h6>
                    </>
                ) : (
                    <div class="opacity-60 italic">
                        <p>Créditos no disponibles</p>
                    </div>
                )
            }
        </div>
    </section>

    <!-- =============================================================== -->
    <!-- =================== SECCIÓN CONCEPT DESIGN ==================== -->
    <!-- =============================================================== -->
    <section
        class="font-SatoshiVariable flex items-start justify-between gap-[60px] px-[8vw] py-0 max-w-[calc(1440px+20vw)] mx-auto mt-[12vw] animate-ContentAnimation"
    >
        <!-- Columna izquierda -->
        <div class="flex-1">
            <div class="flex w-full text-left justify-between">
                <h2 class="uppercase font-black text-[1.3rem]">
                    Concept Design
                </h2>
                <p class="opacity-[0.5]">Photoshop</p>
            </div>

            {
                project.images.slice(1).map((file: string) => {
                    if (file.endsWith(".webm")) {
                    return (
                        <video class="my-5" src={file} autoplay loop muted playsinline />
                    );
                    } else {
                    return <img class="my-5" src={file} alt={project.title} />;
                    }
                })
                }
        </div>

        <!-- Columna derecha (VACIO) -->
        <div class="w-[250px] text-[1rem] shrink-0 z-50"></div>
    </section>

    <!-- ================================================================== -->
    <!-- ===================== Tecnologias utilizadas ===================== -->
    <!-- ================================================================== -->
    <section class="section-resumen font-SatoshiVariable flex items-start justify-between gap-[60px] px-[8vw] pt-10 max-w-[calc(1440px+20vw)] mx-auto">
        <div class="content-appear flex justify-between gap-[50px] flex-1">
            <div class="flex-1 text-[1.2rem] leading-[1.6]">
                <p>{project.description}</p>
            </div>
            <div class="flex-1 text-[1.2rem] leading-[1.6]">
                <p>{project.technologies}</p>
            </div>
        </div>

        <!-- Columna derecha (VACIO) -->
        <div class="w-[250px] text-[1rem] shrink-0 z-50"></div>
    </section>

    <!-- ========================================================== -->
    <!-- ===================== Texto inferior ===================== -->
    <!-- ========================================================== -->
    <section class="trigger relative py-[12vh] px-[8vw] max-w-[calc(1440px+20vw)] mx-auto"
        data-from="0%"
        data-to="10%"
        data-timing="quadOut">
        <blockquote class="YScrollAnimation relative m-0 w-[90%] md:[width:calc(60%-200px)] font-SatoshiVariable font-black text-[5vw] sm:text-[3.5vw] md:text-[2.2vw] tracking-[0.03em] leading-[1.3em] md:leading-[1.2em]">
            <span
                class="quote-left text-[8vw] sm:text-[5vw] md:text-[3vw] align-top"
                >“</span>
            <p>{project.text}</p>
        </blockquote>

        <section class="credits-end-trigge my-5"></section>
    </section>

    <!-- ============================================================== -->
    <!-- ===================== Siguiente proyecto ===================== -->
    <!-- ============================================================== -->
    <section class="font-Druck-Bold px-[2vw] pt-[15vh] pb-[calc(128px+15vh)] max-w-[calc(1440px+20vw)] text-right">
        <a href={project.nextProject.url}>
            <h2 class="text-[1.5vw] font-druk not-italic">next project</h2>

            <span class="relative inline-block text-transparent uppercase font-black tracking-[0.04em] leading-[1.1em] text-[clamp(2rem,8vw,7rem)] transition-colors duration-500 ease-in-out z-[2] hover:text-white stroked-text">{project.nextProject.name}</span>
        </a>
    </section>

</main>


<!-- Animaciones GSAP.JS -->
<script type="module" src="/my-portfolio/scripts/animations/projectPage.js"></script>
